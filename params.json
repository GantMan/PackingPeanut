{"name":"Packingpeanut","tagline":"App persistent data for RubyMotion Android","body":"# ![PackingPeanut Logo](./_art/logo_100.png) PackingPeanut \r\n\r\niOS has [BubbleWrap](https://github.com/rubymotion/BubbleWrap) for App Persistence : Android has PackingPeanut\r\n\r\nThere is a sedulous effort to make this syntax fit BubbleWrap's as much as possible, but differences simply exist, either for good, technical, or sometimes diabolical reasons :smiling_imp:\r\n\r\n## Installation\r\n\r\n**Step 1:** Add this line to your application's Gemfile:\r\n\r\n    gem 'PackingPeanut'\r\n\r\n**Step 2:** And then execute:\r\n\r\n    $ bundle\r\n\r\n## Usage\r\n\r\nExample Usage from REPL\r\n```\r\n# PP automatically has context if the module is included\r\n# In this case we need to set the context\r\n$ App::Persistence.context = self\r\n=> #<MainActivity:0x1d20058e>\r\n$ App::Persistence['dinner'] = \"nachos\"\r\n=> true  # This differs from Bubblewrap.... boolean on success for save (more informative)\r\n$ App::Persistence['dinner'] \r\n=> \"nachos\"\r\n$ App::Persistence['lunch'] = \"tacos\"\r\n$ App::Persistence.all\r\n=> {\"dinner\"=>\"nachos\", \"lunch\"=>\"tacos\"}\r\n$ App::Persistence.storage_file = \"some_new_file\"\r\n=> \"some_new_file\"\r\n$ App::Persistence['dinner']\r\n=> \"\"  # empty because we're now outside the default storage file.\r\n$ App::Persistence.preference_mode = :world_readable\r\n=> :world_redable\r\n\r\n```\r\n\r\n`App::Persistence` has been Aliasted to `PP::Persistence` for the bold.\r\n\r\n## What are preference modes?\r\n\r\nPreference Modes are ANdroid Operating modes. Use 0 or MODE_PRIVATE for the default operation, MODE_WORLD_READABLE and MODE_WORLD_WRITEABLE to control permissions. The bit MODE_MULTI_PROCESS can also be used if multiple processes are mutating the same SharedPreferences file. MODE_MULTI_PROCESS is always on in apps targeting Gingerbread (Android 2.3) and below, and off by default in later versions.\r\n\r\nMemorizable symbols and their corresponding constants:\r\n```ruby\r\n    PREFERENCE_MODES = {\r\n      private: MODE_PRIVATE,\r\n      readable: MODE_WORLD_READABLE,\r\n      world_readable: MODE_WORLD_READABLE,\r\n      writable: MODE_WORLD_WRITEABLE,\r\n      world_writable: MODE_WORLD_WRITEABLE,\r\n      multi: MODE_MULTI_PROCESS,\r\n      multi_process: MODE_MULTI_PROCESS\r\n    }\r\n```\r\n\r\n## Limitations?\r\nAchilles, the Death Star, and video game villians always have a significant catch.   As of right now, you can only store strings.   This is due to Android's wonky static typing methods.  I do have plans, ambitions, dreams, etc of finding the cleanest, fastest way to rectify this.\r\n\r\n## Contributing\r\n\r\n1. Fork it\r\n2. Create your feature branch (`git checkout -b my-new-feature`)\r\n3. Commit your changes (`git commit -am 'Add some feature'`)\r\n4. Push to the branch (`git push origin my-new-feature`)\r\n5. Ponder life... for at least like... 5 minutes\r\n6. Create new Pull Request\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}