<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>PackingPeanut by GantMan</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <img src="images/logo.png" class="logo">
      <h1 class="project-name">PackingPeanut</h1>
      <h2 class="project-tagline">App persistent data for RubyMotion Android</h2>
      <a href="https://github.com/GantMan/PackingPeanut" class="btn">View on GitHub</a>
      <a href="https://github.com/GantMan/PackingPeanut/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/GantMan/PackingPeanut/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="-packingpeanut" class="anchor" href="#-packingpeanut" aria-hidden="true"><span class="octicon octicon-link"></span></a>PackingPeanut</h1>

<p>iOS has <a href="https://github.com/rubymotion/BubbleWrap">BubbleWrap</a> for App Persistence : Android has PackingPeanut</p>

<p>There is a sedulous effort to make this syntax fit BubbleWrap's as much as possible, but differences simply exist, either for good, technical, or sometimes diabolical reasons <img class="emoji" title=":smiling_imp:" alt=":smiling_imp:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f608.png" height="20" width="20" align="absmiddle"></p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p><strong>Step 1:</strong> Add this line to your application's Gemfile:</p>

<pre><code>gem 'PackingPeanut'
</code></pre>

<p><strong>Step 2:</strong> And then execute:</p>

<pre><code>$ bundle
</code></pre>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>Example Usage from REPL</p>

<pre><code># PP automatically has context if the module is included
# In this case we need to set the context
$ App::Persistence.context = self
=&gt; #&lt;MainActivity:0x1d20058e&gt;
$ App::Persistence['dinner'] = "nachos"
=&gt; true  # This differs from Bubblewrap.... boolean on success for save (more informative)
$ App::Persistence['dinner'] 
=&gt; "nachos"
$ App::Persistence['lunch'] = "tacos"
$ App::Persistence.all
=&gt; {"dinner"=&gt;"nachos", "lunch"=&gt;"tacos"}
$ App::Persistence.storage_file = "some_new_file"
=&gt; "some_new_file"
$ App::Persistence['dinner']
=&gt; ""  # empty because we're now outside the default storage file.
$ App::Persistence.preference_mode = :world_readable
=&gt; :world_redable

</code></pre>

<p><code>App::Persistence</code> has been Aliasted to <code>PP::Persistence</code> for the bold.</p>

<h2>
<a id="what-are-preference-modes" class="anchor" href="#what-are-preference-modes" aria-hidden="true"><span class="octicon octicon-link"></span></a>What are preference modes?</h2>

<p>Preference Modes are ANdroid Operating modes. Use 0 or MODE_PRIVATE for the default operation, MODE_WORLD_READABLE and MODE_WORLD_WRITEABLE to control permissions. The bit MODE_MULTI_PROCESS can also be used if multiple processes are mutating the same SharedPreferences file. MODE_MULTI_PROCESS is always on in apps targeting Gingerbread (Android 2.3) and below, and off by default in later versions.</p>

<p>Memorizable symbols and their corresponding constants:</p>

<div class="highlight highlight-ruby"><pre>    <span class="pl-c1">PREFERENCE_MODES</span> <span class="pl-k">=</span> {
      <span class="pl-c1">private:</span> <span class="pl-c1">MODE_PRIVATE</span>,
      <span class="pl-c1">readable:</span> <span class="pl-c1">MODE_WORLD_READABLE</span>,
      <span class="pl-c1">world_readable:</span> <span class="pl-c1">MODE_WORLD_READABLE</span>,
      <span class="pl-c1">writable:</span> <span class="pl-c1">MODE_WORLD_WRITEABLE</span>,
      <span class="pl-c1">world_writable:</span> <span class="pl-c1">MODE_WORLD_WRITEABLE</span>,
      <span class="pl-c1">multi:</span> <span class="pl-c1">MODE_MULTI_PROCESS</span>,
      <span class="pl-c1">multi_process:</span> <span class="pl-c1">MODE_MULTI_PROCESS</span>
    }</pre></div>

<h2>
<a id="limitations" class="anchor" href="#limitations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Limitations?</h2>

<p>Achilles, the Death Star, and video game villians always have a significant catch.   As of right now, you can only store strings.   This is due to Android's wonky static typing methods.  I do have plans, ambitions, dreams, etc of finding the cleanest, fastest way to rectify this.</p>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributing</h2>

<ol>
<li>Fork it</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Commit your changes (<code>git commit -am 'Add some feature'</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Ponder life... for at least like... 5 minutes</li>
<li>Create new Pull Request</li>
</ol>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/GantMan/PackingPeanut">PackingPeanut</a> is maintained by <a href="https://github.com/GantMan">GantMan</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

